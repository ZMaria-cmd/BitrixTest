
; /* Start:"a:4:{s:4:"full";s:87:"/bitrix/components/bitrix/landing.start/templates/.default/script.min.js?17258873061426";s:6:"source";s:68:"/bitrix/components/bitrix/landing.start/templates/.default/script.js";s:3:"min";s:72:"/bitrix/components/bitrix/landing.start/templates/.default/script.min.js";s:3:"map";s:72:"/bitrix/components/bitrix/landing.start/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing");BX.Landing.PaymentAlert=function(n){if(typeof n.nodes==="undefined"){return}for(var t=0,e=n.nodes.length;t<e;t++){BX.bind(n.nodes[t],"click",(function(t){BX.Landing.PaymentAlertShow(n);BX.PreventDefault(t)}))}};BX.Landing.PaymentAlertShow=function(n){var t=BX.Landing.UI.Tool.ActionDialog.getInstance();var e=t.show({title:n.title?n.title:BX.message("LANDING_TPL_JS_PAY_TARIFF_TITLE"),content:'<div class="landing-payrate-popup-content"><span class="landing-payrate-popup-text">'+n.message+"</span></div>",confirm:BX.message("LANDING_TPL_JS_PAY_TARIFF"),contentColor:"grey",type:n.type||null});e.then((function(){top.window.location.href="/bitrix/tools/landing/ajax.php?redirect=upgrade"}),(function(){}))};BX.Landing.AlertShow=function(n){var t=BX.Landing.UI.Tool.ActionDialog.getInstance();var e=t.show({title:n.title?n.title:null,content:n.message,contentColor:"grey",type:n.type||null});e.then((function(){top.window.location.href="/bitrix/tools/landing/ajax.php?redirect=upgrade"}),(function(){}))};BX.ready((function(){var n=document.querySelectorAll(".bitrix24-metrika");if(!n){return}if(typeof BX.Landing.Metrika==="undefined"){return}var t=new BX.Landing.Metrika(true);for(var e=0,i=n.length;e<i;e++){BX.bind(n[e],"click",function(n){t.sendLabel(null,BX.data(this,"metrika24"),BX.data(this,"metrika24value"))}.bind(n[e]))}}))})();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:96:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.min.js?17258873495071";s:6:"source";s:77:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.js";s:3:"min";s:81:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.min.js";s:3:"map";s:81:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.map.js";}"*/
(function(){BX.namespace("BX.UI.SidePanel");if(BX.UI.SidePanel.Wrapper){return}function t(t){}t.prototype.init=function(t){this.container=BX(t.containerId);this.isCloseAfterSave=t.isCloseAfterSave||false;this.isReloadGridAfterSave=t.isReloadGridAfterSave||false;this.isReloadPageAfterSave=t.isReloadPageAfterSave||false;this.skipNotification=t.skipNotification||false;this.useLinkTargetsReplacing=t.useLinkTargetsReplacing||false;this.notification=t.notification||{};var e=BX.SidePanel.Instance.getPreviousSlider(BX.SidePanel.Instance.getSliderByWindow(window));this.parentWindow=e?e.getWindow():top;this.initEditableTitle(t);if(this.isReloadGridAfterSave){if(this.getParam("reloadGridAfterSave")){this.reloadGridOnParentPage()}this.setParam("reloadGridAfterSave",true)}if(this.isCloseAfterSave){if(this.getParam("closeAfterSave")){var i;if(this.notification.content&&top.BX&&!this.getParam("skipNotification")){i=function(){top.BX.loadExt("ui.notification").then(function(){top.BX.UI.Notification.Center.notify(this.notification)}.bind(this))}.bind(this)}else if(this.isReloadPageAfterSave){i=function(){this.parentWindow.location.reload()}.bind(this)}BX.SidePanel.Instance.close(false,i)}if(this.skipNotification){this.setParam("skipNotification",true)}this.setParam("closeAfterSave",true)}if(this.useLinkTargetsReplacing){this.initLinkTargetsReplacing()}};t.prototype.initEditableTitle=function(t){if(!t.title||!t.title.selector||!t.title.defaultTitle){return}var i=this.container.querySelector(t.title.selector);if(!i){return}var n=i.querySelector('input[type="text"]');if(!n){return}i.style.display="none";e.init({dataContainer:i,dataNode:n,defaultTitle:t.title.defaultTitle})};t.prototype.initLinkTargetsReplacing=function(){this.replaceLinkTargets();if(!window.MutationObserver){return}var t=new MutationObserver(this.domMutationHandler.bind(this));t.observe(this.container,{childList:true,subtree:true})};t.prototype.domMutationHandler=function(t){t.forEach(function(t){for(var e=0;e<t.addedNodes.length;++e){var i=t.addedNodes.item(e);if(!i){continue}this.replaceLinkTargets(i)}},this)};t.prototype.replaceLinkTargets=function(t){if(!t){t=document.body}var e=[];if(t.tagName==="A"){e=[t]}else if(t.nodeName!=="#text"){e=BX.convert.nodeListToArray(t.querySelectorAll("a"))}if(e.length===0){return}BX.convert.nodeListToArray(e).filter(function(t){return!t.target}).forEach(function(t){t.target="_top"})};t.prototype.setParam=function(t,e){var i=BX.SidePanel.Instance.getSliderByWindow(window);if(i){i.getData().set(t,e)}};t.prototype.getParam=function(t){var e=BX.SidePanel.Instance.getSliderByWindow(window);if(e){return e.getData().get(t)}return undefined};t.prototype.removeParam=function(t){var e=BX.SidePanel.Instance.getSliderByWindow(window);if(e){e.getData().delete(t)}};t.prototype.reloadGridOnParentPage=function(){var t=this.parentWindow;var e=BX.type.isString(this.isReloadGridAfterSave)?this.isReloadGridAfterSave:null;if(!t.BX.Main||!t.BX.Main.gridManager){return}if(e==="all"){t.BX.Main.gridManager.data.forEach(function(t){t.instance.reload()});return}if(!e&&t.BX.Main.gridManager.data){var i=t.BX.Main.gridManager.data;e=i.length>0?i[0].id:null}if(!e){return}var n=t.BX.Main.gridManager.getById(e);if(!n){return}n.instance.reload()};var e={isInit:false,init:function(t){this.dataNode=t.dataNode;this.titleNode=document.querySelector(".ui-side-panel-wrap-title-name");this.inputNode=document.querySelector(".ui-side-panel-wrap-title-input");this.buttonNode=document.querySelector(".ui-side-panel-wrap-title-edit-button");this.initialTitle=this.titleNode.textContent;this.defaultTitle=t.defaultTitle;BX.bind(this.dataNode,"bxchange",this.onDataNodeChange.bind(this));BX.bind(this.buttonNode,"click",this.startEdit.bind(this));BX.bind(this.inputNode,"keyup",this.onKeyUp.bind(this));BX.bind(this.inputNode,"blur",this.endEdit.bind(this));this.isInit=true;if(!t.disabled){this.enable()}if(!this.dataNode.value){this.dataNode.value=this.defaultTitle}},enable:function(t){t=t||false;if(!this.isInit){return}this.changeDisplay(this.buttonNode,!t);this.titleNode.textContent=!t?this.dataNode.value?this.dataNode.value:this.defaultTitle:this.initialTitle},disable:function(){this.enable(true)},onDataNodeChange:function(){this.titleNode.textContent=this.dataNode.value},onKeyUp:function(t){t=t||window.event;if(t.keyCode===10||t.keyCode===13){this.endEdit();t.preventDefault();return false}},getTitle:function(){var t=this.dataNode.value;if(!t){t=this.titleNode.textContent}return t},startEdit:function(){this.inputNode.value=this.getTitle();this.changeDisplay(this.titleNode,false);this.changeDisplay(this.buttonNode,false);this.changeDisplay(this.inputNode,true);this.inputNode.focus()},endEdit:function(){this.dataNode.value=this.inputNode.value;this.titleNode.textContent=this.inputNode.value;this.changeDisplay(this.inputNode,false);this.changeDisplay(this.buttonNode,true);this.changeDisplay(this.titleNode,true)},changeDisplay:function(t,e){return t.style.display=e?"":"none"}};BX.UI.SidePanel.Wrapper=new t})();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:90:"/bitrix/components/bitrix/landing.settings/templates/.default/script.min.js?17258873043129";s:6:"source";s:71:"/bitrix/components/bitrix/landing.settings/templates/.default/script.js";s:3:"min";s:75:"/bitrix/components/bitrix/landing.settings/templates/.default/script.min.js";s:3:"map";s:75:"/bitrix/components/bitrix/landing.settings/templates/.default/script.map.js";}"*/
this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};(function(e,t,n){"use strict";var a,i;var s=function(){function e(s){var o=this;babelHelpers.classCallCheck(this,e);this.siteId=s.siteId;this.landingId=s.landingId;this.pages=s.pages;this.container=document.getElementById(s.containerId);for(var r in this.pages){this.pages[r].container=t.Tag.render(a||(a=babelHelpers.taggedTemplateLiteral(['<div class="landing-settings-page-container"></div>'])));t.Dom.append(this.pages[r].container,this.container)}this.loadingPages=[];this.loaderContainer=t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral(['<div class="landing-settings-loader-container"></div>'])));t.Dom.insertAfter(this.loaderContainer,this.container);this.loader=new n.Loader({target:this.loaderContainer});this.links=document.getElementById(s.menuId).querySelectorAll("li a");var d=this.links[0];this.links.forEach((function(e){t.Event.bind(e,"click",(function(t){t.preventDefault();t.stopPropagation();o.onLinkClick(e)}));if(e.dataset.page&&o.pages[e.dataset.page]&&o.pages[e.dataset.page].current===true){d=e}}));if(d){this.onLinkClick(d)}this.saveButton=document.getElementById(s.saveButtonId);this.onSave=this.onSave.bind(this);t.Event.bind(this.saveButton,"click",this.onSave)}babelHelpers.createClass(e,[{key:"showLoader",value:function e(){this.loader.show();t.Dom.show(this.loaderContainer)}},{key:"hideLoader",value:function e(){this.loader.hide();t.Dom.hide(this.loaderContainer)}},{key:"onLinkClick",value:function e(t){if(t.dataset.page){this.onPageChange(t.dataset.page)}else if(t.dataset.placement){if(typeof BX.rest!=="undefined"&&typeof BX.rest.Marketplace!=="undefined"){BX.rest.Marketplace.bindPageAnchors({})}BX.rest.AppLayout.openApplication(t.dataset.appId,{SITE_ID:this.siteId,LID:this.landingId},{PLACEMENT:t.dataset.placement,PLACEMENT_ID:t.dataset.placementId})}}},{key:"onPageChange",value:function e(n){var a=this;var i=this.pages[n];if(i){if(i.container.childNodes.length===0){this.showLoader();this.loadingPages.push(n);t.ajax.get(i.link,(function(e){i.container.innerHTML=e;a.loadingPages.splice(a.loadingPages.indexOf(n),1);if(a.loadingPages.length===0){a.hideLoader()}var t=i.container.querySelector("form.landing-form");if(t){i.form=t}if(a.currentPage){a.currentPage.container.hidden=true}a.currentPage=i;a.currentPage.container.hidden=false}))}else{if(this.currentPage){this.currentPage.container.hidden=true}this.currentPage=i;this.currentPage.container.hidden=false}}}},{key:"onSave",value:function e(){var t=this;this.showLoader();var n=[];for(var a in this.pages){var i=this.pages[a];if(i.form){n.push(fetch(i.linkToSave,{method:"POST",body:new FormData(i.form),headers:{"Bx-ajax":true}}))}}Promise.all(n).then((function(e){var n=true;e.forEach((function(e){n=n&&e.ok}));if(n){top.window["landingSettingsSaved"]=true;top.BX.onCustomEvent("BX.Landing.Filter:apply");t.hideLoader();top.window.location.reload();BX.SidePanel.Instance.close()}}))["catch"]((function(e){console.error(e)}))}}]);return e}();e.LandingSettings=s})(this.BX.Landing.Component=this.BX.Landing.Component||{},BX,BX);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:98:"/bitrix/components/bitrix/ui.sidepanel.wrappermenu/templates/.default/script.min.js?17258873496351";s:6:"source";s:79:"/bitrix/components/bitrix/ui.sidepanel.wrappermenu/templates/.default/script.js";s:3:"min";s:83:"/bitrix/components/bitrix/ui.sidepanel.wrappermenu/templates/.default/script.min.js";s:3:"map";s:83:"/bitrix/components/bitrix/ui.sidepanel.wrappermenu/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.UI");BX.UI.DropdownMenu=function(e){this.container=e.container;this.items=[]};BX.UI.DropdownMenu.prototype={init:function(){var e=this.container.querySelectorAll(".ui-sidepanel-menu-item");for(var t=0;t<e.length;t++){var i={};i.id=t;i.container=null;i.link=null;i.button=null;i.submenu=null;i.container=e[t];i.link=i.container.querySelector(".ui-sidepanel-menu-link");i.operativeItem=i.link.getAttribute("bx-operative")==="Y";this.items.push(i);if(i.container.classList.contains("ui-sidepanel-menu-active")){i.activeItem=true}if(i.container.querySelector(".ui-sidepanel-menu-notice-icon")){i.noticeItem=true}}this.loadData()},loadData:function(){for(var e=0;e<this.items.length;e++){this.addItem(this.items[e])}},addItem:function(e){var t=new BX.UI.DropdownMenuItem(e);t.menu=this;this.items[e.id]=t},resetItems:function(){for(var e=0;e<this.items.length;e++){if(this.items[e].activeItem){this.items[e].reset()}}},resetSubItems:function(){for(var e=0;e<this.items.length;e++){this.items[e].resetSubItems()}}};var e=new WeakMap;BX.UI.DropdownMenuItem=function(t){this.container=t.container;this.link=t.link;this.button=null;this.activeItem=t.activeItem?t.activeItem:null;this.noticeItem=t.noticeItem?t.noticeItem:null;this.operativeItem=t.operativeItem?t.operativeItem:null;this.submenu=null;this.subItems=[];this.submenuOpen=false;this.newBadge=null;this.counter=null;this.addItem=null;this.init();e.set(this.container,this)};BX.UI.DropdownMenuItem.getItemByNode=function(t){if(BX.Dom.hasClass(t,"ui-sidepanel-menu-link")){return e.get(t.parentNode)}return e.get(t)};BX.UI.DropdownMenuItem.prototype={init:function(){if(this.isSubmenuExist()){this.submenu=this.container.querySelector(".ui-sidepanel-submenu");this.button=this.getToggleButton();this.link.appendChild(this.button)}var e=this.container.querySelectorAll(".ui-sidepanel-submenu-item"),t=false;for(var i=0;i<e.length;i++){var n={};n.id=i;n.container=e[i];this.subItems.push(n);if(n.container.classList.contains("ui-sidepanel-submenu-active")){n.activeSubItem=true;t=true}}this.loadData();if(this.isSubmenuExist()&&(this.activeItem===true&&this.operativeItem===true||t===true)){this.showSubmenu();this.setNewToggleButtonName()}this.loadData();this.addEvents()},loadData:function(){for(var e=0;e<this.subItems.length;e++){this.addSubItem(this.subItems[e])}},activate:function(){this.activeItem=true;this.container.classList.add("ui-sidepanel-menu-active")},reset:function(){this.activeItem=null;this.container.classList.remove("ui-sidepanel-menu-active")},addNoticeIcon:function(){this.noticeItem=true;if(!this.container.querySelector(".ui-sidepanel-menu-notice-icon")){this.container.children[0].appendChild(this.getNoticeIcon())}},removeNoticeIcon:function(){this.noticeItem=null;if(this.container.querySelector(".ui-sidepanel-menu-notice-icon")){this.container.querySelector(".ui-sidepanel-menu-notice-icon").remove()}},getNoticeIcon:function(){this.noticeIcon=document.createElement("span");this.noticeIcon.className="ui-sidepanel-menu-notice-icon";return this.noticeIcon},showSubmenu:function(){this.submenuOpen=true;this.submenu.style.height=this.getSubmenuHeight()},hideSubmenu:function(){this.submenuOpen=false;this.submenu.style.height=0},getSubmenuHeight:function(){var e=0;for(var t=0;t<this.subItems.length;t++){e=e+(this.subItems[t].getHeight()+6-3)}return e+"px"},addEvents:function(){this.link.addEventListener("click",this.setActiveHandler.bind(this))},setActiveHandler:function(e){this.menu.resetItems();this.activate();if(this.link.getAttribute("bx-operative")!=="Y"){this.link.classList.add("ui-sidepanel-menu-disable-active-state")}else{this.link.classList.remove("ui-sidepanel-menu-disable-active-state")}if(this.isSubmenuExist()){if(!this.submenuOpen){this.showSubmenu();this.setNewToggleButtonName();this.menu.resetSubItems();e&&e.preventDefault()}else{this.hideSubmenu();this.setDefaultToggleButtonName();this.menu.resetSubItems();e&&e.preventDefault()}}else{if(this.link.classList.contains("ui-sidepanel-menu-disable-active-state")){this.link.classList.remove("ui-sidepanel-menu-disable-active-state")}this.menu.resetSubItems()}},isSubmenuExist:function(){if(this.container.querySelector(".ui-sidepanel-submenu")){return true}return false},getToggleButton:function(){this.buttonContainer=document.createElement("div");this.buttonContainer.className="ui-sidepanel-toggle-btn";this.setDefaultToggleButtonName();return this.buttonContainer},setNewToggleButtonName:function(){this.buttonContainer.innerHTML=BX.message("UI_SIDEPANEL_MENU_BUTTON_CLOSE")},setDefaultToggleButtonName:function(){this.buttonContainer.innerHTML=BX.message("UI_SIDEPANEL_MENU_BUTTON_OPEN")},getNewItemBadge:function(){this.itemBadgeNewContainer=document.createElement("div");this.itemBadgeNewContainer.className="ui-sidepanel-badge-new";return this.itemBadgeNewContainer},getCounter:function(){this.counterContainer=document.createElement("span");this.counterContainer.className="ui-sidepanel-counter";return this.counterContainer},getAddItem:function(){this.addItemContainer=document.createElement("a");this.addItemContainer.className="ui-sidepanel-add-item";this.setAddItemName();return this.addItemContainer},setAddItemName:function(){this.addItemContainer.innerHTML=BX.message("UI_SIDEPANEL_MENU_ADD_ITEM")},addSubItem:function(e){var t=new BX.UI.DropdownMenuSubItem(e);t.subMenu=this;this.subItems[e.id]=t},resetSubItems:function(){for(var e=0;e<this.subItems.length;e++){if(this.subItems[e].activeSubItem){this.subItems[e].reset()}}}};BX.UI.DropdownMenuSubItem=function(e){this.container=e.container;this.id=e.id;this.activeSubItem=e.activeSubItem?e.activeSubItem:null;this.subMenu=null;this.init()};BX.UI.DropdownMenuSubItem.prototype={init:function(){this.addEvents()},activate:function(){this.activeSubItem=true;this.container.classList.add("ui-sidepanel-submenu-active")},reset:function(){this.activeSubItem=null;this.container.classList.remove("ui-sidepanel-submenu-active")},addEvents:function(){this.container.addEventListener("click",function(){if(this.activeSubItem){return}if(!this.activeSubItem&&!this.activeItem){this.subMenu.menu.resetItems()}this.subMenu.menu.resetSubItems();this.subMenu.resetSubItems();this.activate()}.bind(this))},getHeight:function(){return this.container.offsetHeight}}})();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:89:"/bitrix/components/bitrix/ui.button.panel/templates/.default/script.min.js?17258873481189";s:6:"source";s:70:"/bitrix/components/bitrix/ui.button.panel/templates/.default/script.js";s:3:"min";s:74:"/bitrix/components/bitrix/ui.button.panel/templates/.default/script.min.js";s:3:"map";s:74:"/bitrix/components/bitrix/ui.button.panel/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.UI");var t=function(){this.layout={container:null}};t.prototype={init:function(t){this.layout.container=BX(t.containerId);this.isFrame=t.isFrame||false;this.hasHints=t.hasHints||false;this.pinnerContainer=t.pinnerContainer||false;this.pinner=new BX.UI.Pinner(this.layout.container,{fixBottom:this.isFrame,fullWidth:this.isFrame,anchorBottom:this.pinnerContainer});if(this.hasHints){BX.UI.Hint.init(this.layout.container)}t.buttons.forEach(this.initButton,this)},getContainer:function(){return this.layout.container},hide:function(){if(!this.layout.container){return}this.layout.container.classList.add("ui-button-panel-wrapper-hide")},show:function(){this.layout.container.classList.remove("ui-button-panel-wrapper-hide")},initButton:function(t){if(!t.ID){return}t.node=BX(t.ID);if(!t.node){return}BX.bind(t.node,"click",this.onButtonClick.bind(this,t))},onButtonClick:function(t,n){BX.onCustomEvent(this,"button-click",[t]);if(t.WAIT){BX.addClass(BX(t.ID),"ui-btn-wait")}if(this.isFrame&&(t.TYPE==="close"||t.TYPE==="cancel")){n.preventDefault();top.BX.SidePanel.Instance.close()}}};BX.UI.ButtonPanel=new t})();
/* End */
;; /* /bitrix/components/bitrix/landing.start/templates/.default/script.min.js?17258873061426*/
; /* /bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.min.js?17258873495071*/
; /* /bitrix/components/bitrix/landing.settings/templates/.default/script.min.js?17258873043129*/
; /* /bitrix/components/bitrix/ui.sidepanel.wrappermenu/templates/.default/script.min.js?17258873496351*/
; /* /bitrix/components/bitrix/ui.button.panel/templates/.default/script.min.js?17258873481189*/

//# sourceMappingURL=template_d9b1a94860a70aaed2774a09399e3da0.map.js